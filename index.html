<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Game Case 2026</title>
    
    <!-- –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ SDK Telegram -->
    <script src="https://telegram.org"></script>
    
    <style>
        body {
            background-color: #0f0f0f;
            color: white;
            font-family: 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* –ß—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ª–∏—à–Ω–µ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ */
        }

        .balance-container {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.05);
            padding: 10px 20px;
            border-radius: 20px;
            border: 1px solid #f39c12;
            font-weight: bold;
            font-size: 18px;
            color: #f39c12;
            backdrop-filter: blur(5px);
        }

        .case {
            font-size: 100px;
            margin-bottom: 20px;
            user-select: none;
            transition: transform 0.2s;
        }

        .shake {
            animation: shake-animation 0.5s infinite linear;
        }

        @keyframes shake-animation {
            0% { transform: translate(0,0) rotate(0); }
            20% { transform: translate(-3px, 2px) rotate(-2deg); }
            40% { transform: translate(3px, -2px) rotate(2deg); }
            60% { transform: translate(-3px, -2px) rotate(-2deg); }
            80% { transform: translate(3px, 2px) rotate(2deg); }
            100% { transform: translate(0,0) rotate(0); }
        }

        .btn {
            background: linear-gradient(135deg, #00b4db, #0083b0); /* –ö—Ä–∞—Å–∏–≤—ã–π —Å–∏–Ω–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç */
            border: none;
            padding: 18px 50px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            border-radius: 18px;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(243, 156, 18, 0.3);
            transition: 0.2s;
        }

        .btn:active { transform: scale(0.95); }

        .btn:disabled {
            background: #333;
            box-shadow: none;
            color: #777;
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <div class="balance-container">
        üí∞ <span id="balanceDisplay">1500</span>
    </div>

    <div id="caseBox" class="case">üì¶</div>
    <h2 id="statusText" style="margin-bottom: 5px;">Lucky Box</h2>
    <p id="infoText" style="color: #888; margin-bottom: 30px;">–û—Ç–∫—Ä—ã—Ç—å –∑–∞ 100 –º–æ–Ω–µ—Ç</p>
    
    <button id="mainBtn" class="btn" onclick="tryOpenCase()">–û–¢–ö–†–´–¢–¨</button>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        let balance = 1000; 
        const CASE_COST = 50;

        function updateBalanceDisplay() {
            document.getElementById('balanceDisplay').innerText = balance;
        }

        function tryOpenCase() {
    // 1. –ù–∞—Ö–æ–¥–∏–º –∫–Ω–æ–ø–∫—É –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ –µ—ë ID
    const btn = document.getElementById('mainBtn');

    // 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å (–∑–Ω–∞—á–µ–Ω–∏–µ balance –º—ã –∑–∞–¥–∞–ª–∏ –≤—ã—à–µ)
    if (balance >= 100) {
        // 3. –°—Ä–∞–∑—É –æ—Ç–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–∂–∞–ª –µ—ë 10 —Ä–∞–∑ –ø–æ–¥—Ä—è–¥
        btn.disabled = true; 
        
        // 4. –°–ø–∏—Å—ã–≤–∞–µ–º –≤–∞–ª—é—Ç—É
        balance -= 100;
        updateBalanceDisplay(); // –û–±–Ω–æ–≤–ª—è–µ–º —Ü–∏—Ñ—Ä—É –Ω–∞ —ç–∫—Ä–∞–Ω–µ

        // 5. –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –æ—Ç–∫—Ä—ã—Ç–∏—è (—Ç—Ä—è—Å–∫—É)
        runOpenAnimation(); 
    } else {
        // –ï—Å–ª–∏ –¥–µ–Ω–µ–≥ –Ω–µ—Ç, –≤—ã–≤–æ–¥–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ SDK Telegram
        window.Telegram.WebApp.showAlert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!");
    }
}


        function runOpenAnimation() {
            const box = document.getElementById('caseBox');
            const text = document.getElementById('statusText');
            const btn = document.getElementById('mainBtn');

            btn.disabled = true;
            box.innerText = "üì¶";
            box.classList.add('shake');
            text.innerText = "–û—Ç–∫—Ä—ã–≤–∞–µ–º...";
            text.style.color = "white";
            
            // –í–∏–±—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ "—Ç—Ä—è—Å–∫–∏"
            tg.HapticFeedback.impactOccurred('medium');

            setTimeout(() => {
                box.classList.remove('shake');
                
                const prizes = ['üíé –ê–õ–ú–ê–ó', 'üëë –ö–û–†–û–ù–ê', 'üöó –ú–ê–®–ò–ù–ê', 'üçé –Ø–ë–õ–û–ö–û', '‚≠êÔ∏è –ó–í–ï–ó–î–ê'];
                const win = prizes[Math.floor(Math.random() * prizes.length)];
                
                box.innerText = "üéÅ"; 
                text.innerText = "–í–´–ü–ê–õ–û: " + win;
                text.style.color = "#2ecc71";
                
                // –ü–æ–±–µ–¥–Ω–∞—è –≤–∏–±—Ä–∞—Ü–∏—è
                tg.HapticFeedback.notificationOccurred('success');
                
                btn.disabled = false;
            }, 2000);
        }

        updateBalanceDisplay();
    </script>
</body>
</html>
