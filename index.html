<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Star Case Mini App 2026</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ SDK Telegram -->
    <script src="https://telegram.org"></script>
    
    <style>
        /* 1. –ë–ê–ó–û–í–´–ï –°–¢–ò–õ–ò */
        body {
            background-color: #0f0f0f;
            color: white;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            -webkit-user-select: none;
        }

        /* 2. –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò */
        #loader {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background-color: #0f0f0f;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(243, 156, 18, 0.2);
            border-top: 5px solid #f39c12;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 15px;
        }

        @keyframes spin { 100% { transform: rotate(360deg); } }

        /* 3. –ò–ù–¢–ï–†–§–ï–ô–° –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø */
        .balance-container {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 20px;
            border: 1px solid #f39c12;
            font-weight: bold;
            color: #f39c12;
            backdrop-filter: blur(10px);
        }

        .case {
            font-size: 100px;
            margin-bottom: 20px;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è —Ç—Ä—è—Å–∫–∏ */
        .shake {
            animation: shake-animation 0.5s infinite linear;
        }

        @keyframes shake-animation {
            0% { transform: rotate(0); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0); }
        }

        .btn {
            background: linear-gradient(135deg, #f39c12, #d35400);
            border: none;
            padding: 18px 50px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            border-radius: 18px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(243, 156, 18, 0.4);
            transition: 0.2s;
            touch-action: manipulation;
        }

        .btn:active { transform: scale(0.95); }
        .btn:disabled { background: #333; color: #777; opacity: 0.6; box-shadow: none; }

        .fade-out { opacity: 0; pointer-events: none; }
    </style>
</head>
<body>

    <!-- –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="loader">
        <div class="spinner"></div>
        <p style="color: #f39c12; font-weight: bold;">NFT STARS LOADING...</p>
    </div>

    <!-- –ë–∞–ª–∞–Ω—Å -->
    <div class="balance-container">
        üí∞ <span id="balanceDisplay">1000</span>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div id="caseBox" class="case">üì¶</div>
    <h2 id="statusText" style="margin-bottom: 30px;">–°—á–∞—Å—Ç–ª–∏–≤—ã–π –ö–µ–π—Å</h2>
    
    <button id="mainBtn" class="btn" onclick="tryOpenCase()">–û–¢–ö–†–´–¢–¨ (100)</button>

    <script>
        const tg = window.Telegram.WebApp;
        let balance = 1000;
        const CASE_COST = 100;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            setTimeout(() => {
                const loader = document.getElementById('loader');
                loader.classList.add('fade-out');
                
                tg.ready();
                tg.expand();
                updateBalanceDisplay();
            }, 1500); // 1.5 —Å–µ–∫—É–Ω–¥—ã –ø–æ–∫–∞–∑ –ª–æ–∞–¥–µ—Ä–∞
        });

        function updateBalanceDisplay() {
            document.getElementById('balanceDisplay').innerText = balance;
        }

        function tryOpenCase() {
            const btn = document.getElementById('mainBtn');
            const box = document.getElementById('caseBox');
            const text = document.getElementById('statusText');

            if (balance >= CASE_COST) {
                // 1. –°–ø–∏—Å–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã
                balance -= CASE_COST;
                updateBalanceDisplay();

                // 2. –í–∏–∑—É–∞–ª—å–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞
                btn.disabled = true;
                box.classList.add('shake');
                text.innerText = "–û—Ç–∫—Ä—ã–≤–∞–µ–º...";
                text.style.color = "white";

                // –í–∏–±—Ä–∞—Ü–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
                tg.HapticFeedback.impactOccurred('medium');

                // 3. –¢–∞–π–º–µ—Ä –æ—Ç–∫—Ä—ã—Ç–∏—è (2 —Å–µ–∫—É–Ω–¥—ã)
                setTimeout(() => {
                    box.classList.remove('shake');
                    
                    // –õ–æ–≥–∏–∫–∞ –ø—Ä–∏–∑–æ–≤
                    const prizes = ['üíé ALMAZ', 'üëë CROWN', 'üöó CAR', 'üçé APPLE', '‚≠êÔ∏è STAR'];
                    const win = prizes[Math.floor(Math.random() * prizes.length)];
                    
                    // –ü–æ–∫–∞–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                    box.innerText = "üéÅ";
                    box.style.transform = "scale(1.2)";
                    text.innerText = "–í–´–ü–ê–õ–û: " + win;
                    text.style.color = "#2ecc71";
                    
                    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –≤–∏–±—Ä–∞—Ü–∏—è —É—Å–ø–µ—Ö–∞
                    tg.HapticFeedback.notificationOccurred('success');
                    
                    // –°–±—Ä–æ—Å —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–∏—è
                    setTimeout(() => {
                        box.style.transform = "scale(1.0)";
                        btn.disabled = false;
                    }, 500);

                }, 2000);
            } else {
                // –ï—Å–ª–∏ –¥–µ–Ω–µ–≥ –Ω–µ—Ç
                tg.HapticFeedback.notificationOccurred('error');
                tg.showAlert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç! –ë–∞–ª–∞–Ω—Å –ø—É—Å—Ç.");
            }
        }
    </script>
</body>
</html>
