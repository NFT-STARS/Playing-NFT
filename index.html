<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NFT STARS 2026</title>
    <script src="https://telegram.org"></script>
    <style>
        :root { --bg: #0b0e11; --accent: #fcd535; --glass: rgba(255, 255, 255, 0.05); }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: white; margin: 0; padding: 0; overflow: hidden; }
        
        /* –°—Ç–∏–ª–∏ —ç–∫—Ä–∞–Ω–æ–≤ */
        .screen { display: none; height: 100vh; width: 100vw; flex-direction: column; align-items: center; justify-content: center; position: absolute; top: 0; left: 0; transition: 0.3s; }
        .active { display: flex; }

        /* –≠–¢–ê–ü 1: –ú–ï–ù–Æ */
        .balance-card { background: var(--glass); padding: 20px; border-radius: 20px; border: 1px solid var(--accent); text-align: center; width: 80%; }
        .main-gift { font-size: 100px; margin: 40px 0; filter: drop-shadow(0 0 15px var(--accent)); }
        
        /* –≠–¢–ê–ü 2: –†–£–õ–ï–¢–ö–ê */
        .roulette-wrap { width: 100%; height: 120px; position: relative; overflow: hidden; background: rgba(0,0,0,0.3); border-top: 2px solid var(--accent); border-bottom: 2px solid var(--accent); }
        .track { display: flex; position: absolute; left: 50%; height: 100%; transition: transform 3.5s cubic-bezier(0.1, 0, 0.1, 1); }
        .slot { min-width: 100px; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 45px; border-right: 1px solid rgba(255,255,255,0.05); }
        .pointer { position: absolute; left: 50%; top: 0; bottom: 0; width: 3px; background: var(--accent); transform: translateX(-50%); z-index: 5; box-shadow: 0 0 10px var(--accent); }

        /* –≠–¢–ê–ü 3: –†–ï–ó–£–õ–¨–¢–ê–¢ */
        .win-card { background: var(--glass); padding: 30px; border-radius: 30px; border: 1px solid var(--accent); text-align: center; animation: pop 0.5s cubic-bezier(0.17, 0.89, 0.32, 1.49); }
        @keyframes pop { from { transform: scale(0); } to { transform: scale(1); } }

        button { background: var(--accent); color: black; border: none; padding: 15px 30px; border-radius: 15px; font-weight: bold; font-size: 18px; cursor: pointer; width: 80%; margin-top: 20px; }
    </style>
</head>
<body>

    <!-- –≠–¢–ê–ü 1: –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù -->
    <div id="screen-menu" class="screen active">
        <div class="balance-card">
            <div style="opacity: 0.6; font-size: 12px;">–í–ê–® –ë–ê–õ–ê–ù–°</div>
            <div style="font-size: 32px; font-weight: 900;">‚≠ê <span id="bal">500</span></div>
        </div>
        <div class="main-gift">üéÅ</div>
        <button onclick="goToOpening()">–û–¢–ö–†–´–¢–¨ –ó–ê 25 ‚≠ê</button>
    </div>

    <!-- –≠–¢–ê–ü 2: –ü–†–û–¶–ï–°–° –û–¢–ö–†–´–¢–ò–Ø -->
    <div id="screen-opening" class="screen">
        <h2 style="color: var(--accent);">–£–î–ê–ß–ò...</h2>
        <div class="roulette-wrap">
            <div class="pointer"></div>
            <div id="track" class="track"></div>
        </div>
    </div>

    <!-- –≠–¢–ê–ü 3: –†–ï–ó–£–õ–¨–¢–ê–¢ -->
    <div id="screen-result" class="screen">
        <div class="win-card">
            <div style="font-size: 14px; margin-bottom: 10px; color: var(--accent);">–í–´ –í–´–ò–ì–†–ê–õ–ò:</div>
            <div id="win-icon" style="font-size: 80px; margin-bottom: 10px;">üíé</div>
            <div id="win-name" style="font-weight: bold; font-size: 20px;">Rare NFT</div>
            <button onclick="goToMenu()" style="width: 100%;">–ó–ê–ë–†–ê–¢–¨</button>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.ready(); tg.expand();

        let stars = 500;
        const items = [
            {e:'üíé', n:'–ö—Ä–∏—Å—Ç–∞–ª–ª'}, {e:'üöÄ', n:'–†–∞–∫–µ—Ç–∞'}, {e:'üëë', n:'–ö–æ—Ä–æ–Ω–∞'}, 
            {e:'üèÜ', n:'–ö—É–±–æ–∫'}, {e:'üåà', n:'–†–∞–¥—É–≥–∞'}, {e:'üî•', n:'–û–≥–æ–Ω—å'}
        ];

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function goToOpening() {
            if (stars < 25) return tg.showAlert("–ú–∞–ª–æ –∑–≤–µ–∑–¥!");
            stars -= 25;
            document.getElementById('bal').innerText = stars;
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ª–µ–Ω—Ç—É
            const track = document.getElementById('track');
            track.innerHTML = '';
            for(let i=0; i<40; i++) {
                const item = items[Math.floor(Math.random()*items.length)];
                track.innerHTML += `<div class="slot">${item.e}</div>`;
            }
            track.style.transform = `translateX(0px)`;
            
            showScreen('screen-opening');
            tg.HapticFeedback.impactOccurred('medium');

            // –ó–∞–ø—É—Å–∫ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏
            const win = items[Math.floor(Math.random()*items.length)];
            track.children[35].innerHTML = win.e; // 35-–π —Å–ª–æ—Ç - –≤—ã–∏–≥—Ä—ã—à–Ω—ã–π
            
            setTimeout(() => {
                track.style.transform = `translateX(-${35 * 100}px)`;
            }, 100);

            setTimeout(() => {
                showResult(win);
            }, 4000);
        }

        function showResult(win) {
            document.getElementById('win-icon').innerText = win.e;
            document.getElementById('win-name').innerText = win.n;
            showScreen('screen-result');
            tg.HapticFeedback.notificationOccurred('success');
        }

        function goToMenu() {
            showScreen('screen-menu');
            tg.HapticFeedback.impactOccurred('light');
        }

        // –î–∞–Ω–Ω—ã–µ –∏–∑ Telegram
        document.getElementById('bal').innerText = stars;
    </script>
</body>
</html>
