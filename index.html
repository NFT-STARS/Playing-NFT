<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ó—É–±-–¢—è–∂–µ–ª–æ–∞—Ç–ª–µ—Ç</title>
    <style>
        :root {
            --gold: #ffd700; --silver: #c0c0c0; --bronze: #cd7f32;
        }
        body { margin: 0; font-family: 'Arial', sans-serif; background: #e0f7fa; overflow: hidden; user-select: none; }
        
        /* –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω */
        #game-screen { display: flex; flex-direction: column; align-items: center; height: 100vh; position: relative; }
        
        #stats { width: 100%; padding: 10px; display: flex; justify-content: space-around; background: rgba(255,255,255,0.8); font-weight: bold; }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –∑—É–±–∞ */
        #tooth-container { margin-top: 100px; position: relative; cursor: pointer; transition: transform 0.1s; }
        #tooth-container:active { transform: scale(0.95); }
        #tooth { width: 150px; height: 180px; background: white; border-radius: 30% 30% 40% 40%; border: 4px solid #333; position: relative; box-shadow: 0 10px 0 #ccc; }
        #tooth::before, #tooth::after { content: ''; position: absolute; bottom: -20px; width: 40px; height: 40px; background: white; border: 4px solid #333; border-radius: 50%; }
        #tooth::before { left: 10px; } #tooth::after { right: 10px; }
        
        #barbell { position: absolute; top: 0; left: -50px; width: 250px; height: 15px; background: #333; transition: top 0.1s; border-radius: 10px; }
        .weight { position: absolute; width: 40px; height: 80px; background: #555; top: -32px; border-radius: 5px; }
        .weight.left { left: 0; } .weight.right { right: 0; }

        /* –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é */
        .btn-bottom { position: absolute; bottom: 20px; width: 70px; height: 70px; border-radius: 15px; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 30px; }
        #inv-btn { left: 20px; background: #8b4513; border: 3px solid #5d2e0d; } /* –†—é–∫–∑–∞–∫ */
        #top-btn { right: 20px; background: #4caf50; border: 3px solid #2e7d32; }

        /* –û–∫–Ω–∞ */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 100; }
        .modal-content { background: #fff; width: 90%; height: 80%; margin: 10% auto; border-radius: 20px; position: relative; padding: 20px; overflow-y: auto; }
        #inventory-view { background: #d2b48c; background-image: radial-gradient(#a0522d 1px, transparent 1px); background-size: 20px 20px; }

        /* –¢–∞–±–ª–∏—Ü–∞ –¢–û–ü */
        .top-entry { display: flex; align-items: center; padding: 10px; border-bottom: 1px solid #eee; margin-bottom: 5px; }
        .medal { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 15px; font-weight: bold; border: 2px solid #000; }
        .rank-1 { border-color: var(--gold); background: #fff9c4; outline: 3px solid var(--gold); }
        .rank-2 { border-color: var(--silver); background: #f5f5f5; outline: 3px solid var(--silver); }
        .rank-3 { border-color: var(--bronze); background: #efebe9; outline: 3px solid var(--bronze); }
        .gold-m { background: var(--gold); } .silver-m { background: var(--silver); } .bronze-m { background: var(--bronze); }
        
        .timer { font-size: 0.8em; color: #ff5252; text-align: center; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="game-screen">
        <div id="stats">
            <div>–û—á–∫–∏: <span id="score">0</span></div>
            <div>‚ö° –≠–Ω–µ—Ä–≥–∏—è: <span id="energy">100</span>/100</div>
        </div>

        <div id="tooth-container" onclick="tap()">
            <div id="barbell">
                <div class="weight left"></div>
                <div class="weight right"></div>
            </div>
            <div id="tooth">
                <div style="position:absolute; top:40px; left:40px; width:15px; height:15px; background:#333; border-radius:50%;"></div>
                <div style="position:absolute; top:40px; right:40px; width:15px; height:15px; background:#333; border-radius:50%;"></div>
                <div style="position:absolute; bottom:50px; left:60px; width:30px; height:10px; border-bottom: 3px solid #333; border-radius: 50%;"></div>
            </div>
        </div>

        <div id="inv-btn" class="btn-bottom" onclick="toggleModal('inventory-modal')">üéí</div>
        <div id="top-btn" class="btn-bottom" onclick="toggleModal('top-modal')">üèÜ</div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—è -->
    <div id="inventory-modal" class="modal">
        <div class="modal-content" id="inventory-view">
            <button onclick="toggleModal('inventory-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
            <h2>–í–∞—à –†—é–∫–∑–∞–∫</h2>
            <div id="inventory-items" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                <!-- –°—é–¥–∞ –ø–æ–ø–∞–¥—É—Ç –∞–ª–º–∞–∑—ã -->
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¢–æ–ø -->
    <div id="top-modal" class="modal">
        <div class="modal-content">
            <button onclick="toggleModal('top-modal')">–ó–∞–∫—Ä—ã—Ç—å</button>
            <h2 style="text-align:center">–¢–æ–ø –ò–≥—Ä–æ–∫–æ–≤</h2>
            <div class="timer" id="daily-timer">–°–±—Ä–æ—Å –¥–Ω—è —á–µ—Ä–µ–∑: --:--:--</div>
            <div id="leaderboard-list"></div>
        </div>
    </div>

    <script>
        let score = 0;
        let energy = 100;
        let diamonds = 0;

        // –≠–º—É–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –¢–û–ü-100
        const mockPlayers = [
            { name: "–ó—É–±–Ω–æ–π –ö–æ—Ä–æ–ª—å", score: 5000 },
            { name: "–ö–∞—á–æ–∫2026", score: 4200 },
            { name: "–ë–µ–ª—ã–π–ö–ª—ã–∫", score: 3800 },
            { name: "Player_1", score: 1200 },
            { name: "Player_2", score: 900 }
        ];

        function tap() {
            if (energy > 0) {
                score++;
                energy--;
                updateUI();
                animateLift();
            }
        }

        function animateLift() {
            const bar = document.getElementById('barbell');
            bar.style.top = "-60px";
            setTimeout(() => { bar.style.top = "0px"; }, 100);
        }

        function updateUI() {
            document.getElementById('score').innerText = score;
            document.getElementById('energy').innerText = energy;
            renderInventory();
        }

        function toggleModal(id) {
            const m = document.getElementById(id);
            m.style.display = m.style.display === 'block' ? 'none' : 'block';
            if(id === 'top-modal') renderLeaderboard();
        }

        function renderLeaderboard() {
            const list = document.getElementById('leaderboard-list');
            list.innerHTML = "";
            mockPlayers.sort((a, b) => b.score - a.score).forEach((p, i) => {
                const pos = i + 1;
                let rankClass = "";
                let medalClass = "";
                if(pos === 1) { rankClass = "rank-1"; medalClass = "gold-m"; }
                if(pos === 2) { rankClass = "rank-2"; medalClass = "silver-m"; }
                if(pos === 3) { rankClass = "rank-3"; medalClass = "bronze-m"; }

                list.innerHTML += `
                    <div class="top-entry ${rankClass}">
                        <div class="medal ${medalClass}">${pos}</div>
                        <div style="flex-grow:1">${p.name}</div>
                        <div>${p.score}</div>
                    </div>
                `;
            });
        }

        function renderInventory() {
            const inv = document.getElementById('inventory-items');
            inv.innerHTML = `
                <div style="background:rgba(255,255,255,0.9); padding:10px; border-radius:10px; text-align:center">
                    üíé<br>–ê–ª–º–∞–∑—ã: ${diamonds}
                </div>
            `;
        }

        // –†–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–Ω–µ—Ä–≥–∏–∏ (–∫–∞–∂–¥—ã–µ 3 –º–∏–Ω—É—Ç—ã +1)
        setInterval(() => {
            if (energy < 100) {
                energy++;
                updateUI();
            }
        }, 180000); 

        // –¢–∞–π–º–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∞ (–æ–±—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—á–µ—Ç –¥–æ –∫–æ–Ω—Ü–∞ –¥–Ω—è)
        setInterval(() => {
            const now = new Date();
            const hours = 23 - now.getHours();
            const mins = 59 - now.getMinutes();
            const secs = 59 - now.getSeconds();
            document.getElementById('daily-timer').innerText = 
                `–°–±—Ä–æ—Å –¥–Ω—è —á–µ—Ä–µ–∑: ${hours}:${mins < 10 ? '0'+mins : mins}:${secs < 10 ? '0'+secs : secs}`;
        }, 1000);

        // –ù–∞—á–∞–ª—å–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
        updateUI();
    </script>
</body>
</html>
