<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Strong Tooth Clicker</title>
    <script src="https://telegram.org"></script>
    <style>
        :root {
            --bg-color: #e3f2fd;
            --tooth-base-size: 220px;
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--bg-color);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 100vh;
            display: flex; flex-direction: column; align-items: center;
            overflow: hidden; touch-action: none;
        }

        /* –ó–∞–¥–Ω–∏–π —Ñ–æ–Ω —Å –≥–∏—Ä–µ–π */
        .background-kettlebell {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 80%; opacity: 0.05;
            z-index: 0; pointer-events: none;
        }

        .header {
            z-index: 10; margin-top: 40px; text-align: center;
        }

        .score-box {
            font-size: 48px; font-weight: 900; color: #1565c0;
            display: flex; align-items: center; gap: 10px;
        }

        .level-text { font-size: 14px; color: #546e7a; text-transform: uppercase; letter-spacing: 1px; }

        /* –ò–≥—Ä–æ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .game-world {
            position: relative; flex: 1; width: 100%;
            display: flex; justify-content: center; align-items: center;
            z-index: 5;
        }

        /* –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ó—É–±–∞ */
        .tooth-container {
            position: relative;
            width: var(--tooth-base-size);
            height: var(--tooth-base-size);
            transition: transform 0.1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–µ —Ç–µ–ª–æ –∑—É–±–∞ (–±–µ–ª—ã–π –º—É–ª—å—Ç—è—à–Ω—ã–π) */
        .tooth-body {
            width: 100%; height: 100%;
            background: white; border-radius: 40px 40px 60px 60px;
            border: 6px solid #333; position: relative;
            box-shadow: inset -10px -10px 0 #eceff1;
        }

        /* –ì–ª–∞–∑–∞ */
        .eye {
            position: absolute; top: 30%; width: 20px; height: 30px;
            background: #333; border-radius: 50%;
        }
        .eye.left { left: 25%; }
        .eye.right { right: 25%; }

        /* –£–ª—ã–±–∫–∞ */
        .mouth {
            position: absolute; top: 55%; left: 50%; transform: translateX(-50%);
            width: 40px; height: 20px; border-bottom: 5px solid #333; border-radius: 50%;
        }

        /* –®—Ç–∞–Ω–≥–∞ –≤ —Ä—É–∫–∞—Ö */
        .barbell-obj {
            position: absolute; top: -20px; left: -40px; width: 300px; height: 12px;
            background: #263238; border-radius: 6px; z-index: 20;
            transition: transform 0.08s;
        }
        .barbell-obj::before, .barbell-obj::after {
            content: ''; position: absolute; width: 50px; height: 50px;
            background: #212121; border-radius: 8px; top: -20px;
        }
        .barbell-obj::before { left: -10px; }
        .barbell-obj::after { right: -10px; }

        /* –ú–´–®–¶–´ (–ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ —É—Å–ª–æ–≤–∏—é) */
        .biceps {
            display: none; position: absolute; top: 40%;
            width: 50px; height: 50px; background: white;
            border: 5px solid #333; border-radius: 50%; z-index: -1;
        }
        .biceps.left { left: -35px; }
        .biceps.right { right: -35px; }

        /* –°–æ—Å—Ç–æ—è–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π */
        .lvl-medium .biceps { display: block; } /* –ü–æ—è–≤–∏–ª–∏—Å—å —Ä—É–∫–∏ */
        .lvl-hard .tooth-container { transform: scale(1.2); } /* –°—Ç–∞–ª –±–æ–ª—å—à–µ */

        /* –≠—Ñ—Ñ–µ–∫—Ç –∫–ª–∏–∫–∞ */
        .active-tap { transform: scale(0.92) translateY(15px); }

        .btn-leaderboard {
            z-index: 10; margin-bottom: 40px; padding: 18px 45px;
            background: #1e88e5; color: white; border: none;
            border-radius: 20px; font-size: 18px; font-weight: bold;
            box-shadow: 0 10px 20px rgba(30,136,229,0.3);
        }
    </style>
</head>
<body>

    <!-- –ó–∞–¥–Ω–∏–π —Ñ–æ–Ω -->
    <img src="https://cdn-icons-png.flaticon.com" class="background-kettlebell" alt="kettlebell">

    <div class="header">
        <div class="level-text" id="status">–£—Ä–æ–≤–µ–Ω—å: –ù–æ–≤–∏—á–æ–∫</div>
        <div class="score-box">
            <span id="score">0</span>
            <img src="https://cdn-icons-png.flaticon.com" width="40" alt="–≥–∞–Ω—Ç–µ–ª—å">
        </div>
    </div>

    <div class="game-world" id="main-area">
        <div class="tooth-container" id="tooth-hero">
            <div class="barbell-obj"></div>
            <div class="tooth-body">
                <div class="eye left"></div>
                <div class="eye right"></div>
                <div class="mouth"></div>
                <!-- –ú—ã—à—Ü—ã -->
                <div class="biceps left"></div>
                <div class="biceps right"></div>
            </div>
        </div>
    </div>

    <button class="btn-leaderboard" onclick="showTop()">üèÜ –¢–û–†-150 –ì–ï–†–û–ï–í</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let count = parseInt(localStorage.getItem('tooth_clicks')) || 0;
        const scoreEl = document.getElementById('score');
        const hero = document.getElementById('tooth-hero');
        const statusEl = document.getElementById('status');

        function updateLevel() {
            if (count >= 1000) {
                hero.className = 'tooth-container lvl-medium lvl-hard';
                statusEl.innerText = "–£—Ä–æ–≤–µ–Ω—å: –ì–ò–ì–ê–ù–¢";
            } else if (count >= 100) {
                hero.className = 'tooth-container lvl-medium';
                statusEl.innerText = "–£—Ä–æ–≤–µ–Ω—å: –ö—Ä–µ–ø—ã—à";
            }
        }

        function clickHandler(e) {
            count++;
            scoreEl.innerText = count;
            localStorage.setItem('tooth_clicks', count);

            // –ê–Ω–∏–º–∞—Ü–∏—è
            hero.classList.add('active-tap');
            setTimeout(() => hero.classList.remove('active-tap'), 100);

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è
            updateLevel();

            // –í–∏–±—Ä–∞—Ü–∏—è
            if (tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
        }

        document.getElementById('main-area').addEventListener('touchstart', (e) => {
            e.preventDefault();
            clickHandler();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
        updateLevel();
        scoreEl.innerText = count;

        function showTop() {
            tg.showAlert("–†–µ–π—Ç–∏–Ω–≥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –í—ã –Ω–∞–±—Ä–∞–ª–∏: " + count + " –≥–∞–Ω—Ç–µ–ª–µ–π!");
        }
    </script>
</body>
</html>
